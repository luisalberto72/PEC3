(()=>{"use strict";var t,e,o={854:(t,e)=>{function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function i(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(t,e,o){return(e=a(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.TodoController=void 0,e.TodoController=i((function t(e,o){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,"onTodoListChanged",(function(t){n.view.displayTodos(t)})),r(this,"handleAddTodo",(function(t){n.service.addTodo(t)})),r(this,"handleEditTodo",(function(t,e){n.service.editTodo(t,e)})),r(this,"handleDeleteTodo",(function(t){n.service.deleteTodo(t)})),r(this,"handleToggleTodo",(function(t){n.service.toggleTodo(t)})),this.service=e,this.view=o,this.service.bindTodoListChanged(this.onTodoListChanged.bind(this)),this.view.bindAddTodo(this.handleAddTodo.bind(this)),this.view.bindEditTodo(this.handleEditTodo.bind(this)),this.view.bindDeleteTodo(this.handleDeleteTodo.bind(this)),this.view.bindToggleTodo(this.handleToggleTodo.bind(this)),this.onTodoListChanged(this.service.todos)}))},838:(t,e)=>{function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.Todo=void 0,e.Todo=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",complete:!1},o=e.text,n=e.complete;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=this.uuidv4(),this.text=o,this.complete=n},(e=[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}}])&&n(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}()},318:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TodoService=void 0;var n=o(838);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function a(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}e.TodoService=function(){return t=function t(){var e,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,(o=u(o="onTodoListChanged"))in e?Object.defineProperty(e,o,{value:null,enumerable:!0,configurable:!0,writable:!0}):e[o]=null;var i=localStorage.getItem("todos"),r=i?JSON.parse(i):[];this.todos=r.map((function(t){return new n.Todo(t)}))},(e=[{key:"bindTodoListChanged",value:function(t){this.onTodoListChanged=t}},{key:"_commit",value:function(){this.onTodoListChanged&&this.onTodoListChanged(this.todos),localStorage.setItem("todos",JSON.stringify(this.todos))}},{key:"addTodo",value:function(t){var e=new n.Todo({text:t,complete:!1});this.todos.push(e),this._commit()}},{key:"editTodo",value:function(t,e){for(var o=-1,n=0;n<this.todos.length;n++)if(parseInt(this.todos[n].id)===t){o=n;break}-1!==o&&(this.todos[o].text=e,this._commit())}},{key:"deleteTodo",value:function(t){this.todos=this.todos.filter((function(e){return parseInt(e.id)!==t})),this._commit()}},{key:"toggleTodo",value:function(t){var e,o,n=function(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(t){if("string"==typeof t)return r(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return u=t.done,t},e:function(t){s=!0,a=t},f:function(){try{u||null==o.return||o.return()}finally{if(s)throw a}}}}(this.todos);try{for(n.s();!(o=n.n()).done;){var i=o.value;if(parseInt(i.id)===t){e=i;break}}}catch(t){n.e(t)}finally{n.f()}e?(e.complete=!e.complete,this._commit()):console.error("Todo not found")}}])&&a(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}()},983:(t,e)=>{function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.TodoView=void 0,e.TodoView=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.app=this.getElement("#root"),this.form=this.createElement("form"),this.input=this.createElement("input"),this.input.type="text",this.input.placeholder="Add todo",this.input.name="todo",this.submitButton=this.createElement("button"),this.submitButton.textContent="Submit",this.form.append(this.input,this.submitButton),this.title=this.createElement("h1"),this.title.textContent="Todos",this.todoList=this.createElement("ul","todo-list"),this.app.append(this.title,this.form,this.todoList),this._temporaryTodoText="",this._initLocalListeners()},(e=[{key:"_todoText",get:function(){return this.input.value}},{key:"_resetInput",value:function(){this.input.value=""}},{key:"createElement",value:function(t,e){var o=document.createElement(t);return e&&o.classList.add(e),o}},{key:"getElement",value:function(t){return document.querySelector(t)}},{key:"displayTodos",value:function(t){for(var e=this;this.todoList.firstChild;)this.todoList.removeChild(this.todoList.firstChild);if(0===t.length){var o=this.createElement("p");o.textContent="Nothing to do! Add a task?",this.todoList.append(o)}else t.forEach((function(t){var o=e.createElement("li");o.id=t.id;var n=e.createElement("input");n.type="checkbox",n.checked=t.complete;var i=e.createElement("span");if(i.contentEditable="true",i.classList.add("editable"),t.complete){var r=e.createElement("s");r.textContent=t.text,i.append(r)}else i.textContent=t.text;var a=e.createElement("button","delete");a.textContent="Delete",o.append(n,i,a),e.todoList.append(o)}));console.log(t)}},{key:"_initLocalListeners",value:function(){var t=this;this.todoList.addEventListener("input",(function(e){"editable"===e.target.className&&(t._temporaryTodoText=e.target.innerText)}))}},{key:"bindAddTodo",value:function(t){var e=this;this.form.addEventListener("submit",(function(o){o.preventDefault(),e._todoText&&(t(e._todoText),e._resetInput())}))}},{key:"bindDeleteTodo",value:function(t){this.todoList.addEventListener("click",(function(e){if("delete"===e.target.className){var o=parseInt(e.target.parentElement.id);t(o)}}))}},{key:"bindEditTodo",value:function(t){var e=this;this.todoList.addEventListener("focusout",(function(o){if(e._temporaryTodoText){var n=parseInt(o.target.parentElement.id);t(n,e._temporaryTodoText),e._temporaryTodoText=""}}))}},{key:"bindToggleTodo",value:function(t){this.todoList.addEventListener("change",(function(e){var o=e.target;if("input"===o.tagName.toLowerCase()&&"checkbox"===o.getAttribute("type")){var n=parseInt(o.parentElement.id);t(n)}}))}}])&&n(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}()}},n={};function i(t){var e=n[t];if(void 0!==e)return e.exports;var r=n[t]={exports:{}};return o[t](r,r.exports,i),r.exports}t=i(318),e=i(983),new(i(854).TodoController)(new t.TodoService,new e.TodoView)})();